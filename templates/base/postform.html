{{ define "postform" }}

{{ if .IsOwner }}
<div class="postform new" style="padding: 0 1em 1em; border: 1px solid #ddd">
    <h2>New Post</h2>
    <form id="postform" action="{{ .FormAction }}" method="POST">
        <div class="form-section">
            <label for="title">Title</label>
            <input type="text" name="title" placeholder="Post Title" />
        </div>
        {{ if .ShowSlug }}
        <div class="form-section">
            <label for="slug">Slug</label>
            <input type="text" name="slug" placeholder="Leave blank to auto-generate from title" />
        </div>
        {{ end }}
        {{ if not .ShowExpand }}
        <div class="form-section">
            <label for="tags">Tags</label>
            <input type="text" name="tags" placeholder="Post Tags" />
        </div>
        {{ end }}
        <div class="form-section">
            <label for="tags">Post content (markdown supported)</label>
            <textarea name="body" rows="{{ .TextHeight | default 10 }}" placeholder="Post content"></textarea>
        </div>
        <div class="form-section">
            Cross-post:
            <input type="checkbox" name="twitter" value="on"> Twitter
            <input type="checkbox" name="toot.cafe" value="on"> Toot.cafe
        </div>
        <button>Post</button> {{ if .ShowExpand }}<a href="/new">Expanded Form</a> (Resets form){{ end }}
    </form>
</div>
{{ end }}
{{ end }}